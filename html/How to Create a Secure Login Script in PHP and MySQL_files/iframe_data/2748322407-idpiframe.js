var h,aa=function(){throw Error("unimplemented abstract method");},ba=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=
typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},ca=function(a,b){function c(){}c.prototype=b.prototype;a.Fb=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Db=function(a,c,g){for(var e=Array(arguments.length-2),d=2;d<arguments.length;d++)e[d-2]=arguments[d];return b.prototype[c].apply(a,e)}};var l={},m={},da=!1,n=function(a){try{da&&window.console&&window.console.log&&window.console.log(a)}catch(b){}},p=function(a,b){if(!a)return-1;if(a.indexOf)return a.indexOf(b,void 0);for(var c=0,e=a.length;c<e;c++)if(a[c]===b)return c;return-1},r=function(a,b){function c(){}if(!a)throw"Child class cannot be empty.";if(!b)throw"Parent class cannot be empty.";c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a},ea=function(a){var b=[],c;for(c in a)if(a.hasOwnProperty(c)){var e=a[c];
if(null===e||void 0===e)e="";b.push(encodeURIComponent(c)+"="+encodeURIComponent(e))}return b.join("&")},fa=function(a){a=(new RegExp("[&#]"+a+"=([^&]*)")).exec(window.location.hash);return null==a?"":decodeURIComponent(a[1].replace(/\+/g," "))},ga=function(a,b){var c=window;if(c.addEventListener)c.addEventListener(a,b,!1);else if(c.attachEvent)c.attachEvent("on"+a,b);else throw"Add event handler for "+a+" failed.";},ha=function(a,b){for(var c=(a||"").split(" "),e=(b||"").split(" "),d=0;d<e.length;d++)if(e[d]&&
0>p(c,e[d]))return!1;return!0},ia=function(){return Object.hasOwnProperty.call(window,"ActiveXObject")&&!window.ActiveXObject},ja=function(){var a=navigator.userAgent;return!!a&&/Edge\/\d+/.test(a)},ka=function(){var a=navigator.userAgent,b;if(b=!!a&&-1!=a.indexOf("CriOS"))b=-1,(a=a.match(/CriOS\/(\d+)/))&&a[1]&&(b=parseInt(a[1],10)||-1),b=48>b;return b},u=function(a){this.Oa=a||[];this.F={}};
u.prototype.addEventListener=function(a,b){if(!(0<=p(this.Oa,a)))throw"Unrecognized event type: "+a;if("[object Function]"!==Object.prototype.toString.call(b))throw"The listener for event '"+a+"' is not a function.";this.F[a]||(this.F[a]=[]);0>p(this.F[a],b)&&this.F[a].push(b)};u.prototype.dispatchEvent=function(a){var b=a.type;if(!(b&&0<=p(this.Oa,b)))throw"Failed to dispatch unrecognized event type: "+b;if(this.F[b]&&this.F[b].length)for(var c=0,e=this.F[b].length;c<e;c++)this.F[b][c](a)};
var l=l||{},v=function(){};v.prototype.getItem=function(){throw Error("unimplemented abstract method");};v.prototype.setItem=function(){throw Error("unimplemented abstract method");};v.prototype.removeItem=function(){throw Error("unimplemented abstract method");};var w=function(){};r(w,v);w.prototype.pa=function(a){this.$=a||window.localStorage};w.prototype.getItem=function(a,b){var c=this.$.getItem(a);b(c)};
w.prototype.setItem=function(a,b,c){void 0===b||null===b?this.$.removeItem(a):this.$.setItem(a,b);c&&c()};w.prototype.removeItem=function(a,b){this.$.removeItem(a);b&&b()};var x=function(){};r(x,v);x.prototype.pa=function(a){var b=this,c=window.indexedDB.open("oauth");c.onsuccess=function(c){b.la=c.target.result;a()};c.onupgradeneeded=function(a){a.target.result.createObjectStore("oauth")}};
x.prototype.getItem=function(a,b){var c=this.la.transaction("oauth","readwrite").objectStore("oauth").get(a);c.onsuccess=function(){b(c.result)}};x.prototype.setItem=function(a,b,c){var e=this.la.transaction("oauth","readwrite").objectStore("oauth");if(void 0===b||null===b)e["delete"](a);else e.put(b,a);e.transaction.oncomplete=function(){c&&c()}};
x.prototype.removeItem=function(a,b){var c=this.la.transaction("oauth","readwrite").objectStore("oauth");c["delete"](a);c.transaction.oncomplete=function(){b&&b()}};var y=function(a){this.Ka=a;u.call(this,["storageValueChanged"])};r(y,u);var la=function(a,b){l.Y.getItem(a.Ka,b)};y.prototype.addListener=function(a){this.addEventListener("storageValueChanged",a)};y.prototype.start=function(){var a=this;la(this,function(b){a.ob=b;a.La=0;a.qa=window.setInterval(ma(a),200)})};
y.prototype.stop=function(){void 0!==this.qa&&(clearInterval(this.qa),this.qa=void 0)};
var ma=function(a){return function(){a.La++;la(a,function(b){b!=a.ob?(a.dispatchEvent({type:"storageValueChanged",key:a.Ka,newValue:b}),a.stop()):1500<=a.La&&a.stop()})}},na=function(a){var b=0,c,e,d;if(a)for(c=0,d=a.length;c<d;c++)e=a.charCodeAt(c),b=(b<<5)-b+e,b|=0;return b},A=function(a){return!!a&&0<=a.indexOf(z.l)},oa=function(a,b){if(!a&&!b)return!0;if(!a||!b)return!1;var c=a.extraQueryParams,e=b.extraQueryParams;if(!c&&!e)return!0;if(!c||!e||Object.keys&&Object.keys(c).length!=Object.keys(e).length)return!1;
for(var d in c)if(c[d]!==e[d])return!1;if(!Object.keys)for(d in e)if(c[d]!==e[d])return!1;return!0},z=z||{};z.ga="SID";z.Ca="SSID";z.Qa=100;z.Ea="/oauth2/sessionstate/action/updateState";z.xa="/oauth2/sessionstate/action/checkOrigin";z.Aa="/oauth2/permission/action/refresh";z.fa="/oauth2/permission/action/listSessions";z.Ta="/o/oauth2/revoke";z.l="::";z.ea="_ss_";z.za="_tr_";z.ha="oauth2_ss";z.ya="oauth2_cs";z.Da="oauth2_tr";z.Ra="oauth2_is";z.ca="oauth2_ar";
z.Bb=function(){var a={ea:1,za:2,ha:3,ya:4,Da:5,ca:6},b;for(b in a)if(a=z[b],!a||0<=a.indexOf(z.l))throw"Invalid value for 'oauth2.spi."+b+"'.";};z.Bb();z.Sa=512;z.Ua=function(a){var b;(b=void 0===a.hint)||(b=a.hint,b=(""===b?!0:b?"string"==typeof b||"object"==typeof b&&b.constructor===String:!1)&&a.hint.length<=z.Sa);return!a.id&&b};z.eb=function(){return"https:"==window.location.protocol?z.Ca:z.ga};m=m||{};
m.N=function(a){var b,c=m.bb();c&&(a=c.match("(^|;) ?"+a+"=([^;]*)(;|$)"))&&2<a.length&&(b=a[2]);return b};m.ab=function(a){var b;(a=m.N(a))&&(b=String(na(a)));return b};m.bb=function(){return document.cookie};m.da="cookieValueChanged";var pa=function(a,b){this.Ga=a;this.hb=b;u.call(this,[m.da])};r(pa,u);pa.prototype.N=function(){return m.N(this.Ga)};var B=function(a){return m.ab(a.Ga)};pa.prototype.addListener=function(a){this.addEventListener(m.da,a)};
var ra=function(a){void 0!==a.va&&(window.clearInterval(a.va),a.va=void 0,n("IDP Session Cookie monitor is stoped."));a.aa=a.N();a.va=window.setInterval(qa(a),a.hb);n("IDP Session Cookie monitor is started.")},qa=function(a){return function(){var b=a.N();if(a.aa!=b){var c={type:m.da,newHash:b&&na(b),oldHash:a.aa&&na(a.aa)};a.aa=b;a.dispatchEvent(c)}}},sa=function(a,b){this.b=a;this.Pa=b},ta=function(a,b,c){var e=z.Ta,d=new XMLHttpRequest;d.onreadystatechange=function(){if(4==d.readyState&&200==d.status){var a;
d.responseText&&(a=window.JSON.parse(d.responseText));c(a)}};d.open("POST",e,!0);d.setRequestHeader("Content-type","application/x-www-form-urlencoded");var g="xsrfToken=";a.Pa&&(g+=a.Pa);if(b)for(var f in b)f&&b[f]&&(g+="&"+f+"="+encodeURIComponent(b[f]));n("Call "+e+" with postData: "+g);d.send(g)},C=function(a,b,c,e,d){var g=new XMLHttpRequest;g.onreadystatechange=function(){if(4==g.readyState&&200==g.status){var a;g.responseText&&(a=window.JSON.parse(g.responseText));e(a)}};if(b=ea(b))a+=0>a.indexOf("?")?
"?":"&",a+=b;g.open("GET",a,!0);d&&(g.withCredentials=!0);if(c)for(var f in c)if(c.hasOwnProperty(f)){d=c[f];if(null===d||void 0===d)d="";g.setRequestHeader(f,d)}n("Call "+a+" with Get method.");g.send()},ua=function(a,b,c){C(z.xa,{origin:a.b,client_id:b},null,c,!1)},va=function(a,b,c){b&&b.length?C(z.Ea,{login_hint:b.join(" "),origin:a.b},null,c,!1):c({activeHints:{}})},wa=function(a,b,c){b.origin=a.b;delete b.redirect_uri;delete b.app_package_name;C(z.Aa,b,null,c,!1)},xa=function(a,b,c){b.origin=
a.b;b.redirect_uri=void 0;b.response_type=void 0;b.app_package_name=void 0;C(z.fa,b,null,c,!1)},ya=function(a,b,c){ta(a,{token:b},c)},l=l||{},za=function(){};za.prototype.w=function(){return!1};var Aa={};l.qb=function(){var a=new D;if(!a)throw"policy cannot be empty.";if(l.Ia("DEFAULT"))throw"Duplicate policyName [DEFAULT].";Aa.DEFAULT=a};l.Ia=function(a){for(var b in Aa)if(a==b)return!0;return!1};l.Ha=function(a){return a&&l.Ia(a)?a:"DEFAULT"};l.cb=function(a){return Aa[l.Ha(a)]};
l.w=function(a,b,c,e){return l.cb(e).w(a,b,c)};l.Eb=function(a,b,c,e){if(!l.w(a,b,c,e))throw"permission_error";};var Ba=function(){};r(Ba,za);Ba.prototype.w=function(a,b,c){a=c?this.na(a):this.oa(a);return 0<=p(a,b)};Ba.prototype.oa=function(a){var b=[];if(a&&(b.push(a),"http://"==a.substring(0,7)||"https://"==a.substring(0,8))){var c=document.createElement("a");c.href=a;a!=c.protocol+"//"+c.hostname&&b.push(c.protocol+"//"+c.hostname);"https:"==c.protocol&&b.push("http://"+c.hostname)}return b};
Ba.prototype.na=function(a){var b=[];if(a){b.push(a);var c=document.createElement("a");c.href=a;if("http:"==c.protocol||"https:"==c.protocol)for(a=c.hostname.split(".");1<a.length;)b.push(c.protocol+"//"+a.join(".")),"https:"==c.protocol&&b.push("http://"+a.join(".")),a.shift()}return b};var D=function(){};r(D,za);D.prototype.w=function(a,b,c){a=c?this.na(a):this.oa(a);return 0<=p(a,b)};
D.prototype.oa=function(a){var b=[];if(a&&(b.push(a),"https://"==a.substring(0,8))){var c=document.createElement("a");c.href=a;""!=c.port&&0!=c.port&&443!=c.port||b.push("http://"+c.hostname)}return b};
D.prototype.na=function(a){var b=[];if(a){var c=document.createElement("a");c.href=a;if("https:"==c.protocol&&(""==c.port||0==c.port||443==c.port)||"http:"==c.protocol&&(""==c.port||0==c.port||80==c.port))for(a=c.hostname.split(".");1<a.length;)b.push(c.protocol+"//"+a.join(".")),"https:"==c.protocol&&b.push("http://"+a.join(".")),a.shift();else b.push(a)}return b};l.qb();l.C={J:"sessionStorage",Ba:"localStorage",Cb:"indexedDB"};var Ca=function(){};Ca.prototype.G=function(){return l.C.J};
var E=function(a){return a.G()==l.C.J?window.sessionStorage:l.Y};h=Ca.prototype;h.g=function(){throw Error("unimplemented abstract method");};h.M=function(){throw Error("unimplemented abstract method");};h.m=function(){throw Error("unimplemented abstract method");};h.ia=function(){throw Error("unimplemented abstract method");};h.j=function(){throw Error("unimplemented abstract method");};h.ja=function(){throw Error("unimplemented abstract method");};var F=function(){};r(F,Ca);
F.prototype.m=function(a,b){if(this.G()!=l.C.J)throw Error("The sync version getValue() can only be used by sessionStorage.");var c,e=this.g(a),d=E(this).getItem(e);if(d)try{var g=window.JSON.parse(d);g.cookieHash!=b?E(this).removeItem(e):c=g&&g.cachedValue}catch(f){}return c};F.prototype.ia=function(a,b,c){var e=this,d=this.g(a);E(this).getItem(d,function(a){var f;if(a)try{var g=window.JSON.parse(a);if(g.cookieHash!=b){E(e).removeItem(d,function(){c(void 0)});return}f=g&&g.cachedValue}catch(q){}c(f)})};
F.prototype.j=function(a,b,c){if(this.G()!=l.C.J)throw Error("The sync version setValue() can only be used by sessionStorage.");a=this.g(a);void 0===b||null===b?E(this).removeItem(a):E(this).setItem(a,JSON.stringify({cookieHash:c,cachedValue:b}))};F.prototype.ja=function(a,b,c,e){a=this.g(a);void 0===b||null===b?E(this).removeItem(a,e):(b=JSON.stringify({cookieHash:c,cachedValue:b}),E(this).setItem(a,b,e))};var G=function(){};r(G,Ca);
G.prototype.m=function(a){if(this.G()!=l.C.J)throw Error("The sync version getValue() can only be used by sessionStorage.");var b;if(a=E(this).getItem(this.g(a)))try{var c=window.JSON.parse(a);b=c&&c.cachedValue}catch(e){}return b};G.prototype.ia=function(a,b,c){E(this).getItem(this.g(a),function(a){var b;if(a)try{var e=window.JSON.parse(a);b=e&&e.cachedValue}catch(f){}c(b)})};
G.prototype.j=function(a,b){if(this.G()!=l.C.J)throw Error("The sync version setValue() can only be used by sessionStorage.");var c=this.g(a);void 0===b||null===b?E(this).removeItem(c):E(this).setItem(c,JSON.stringify({cachedValue:b}))};G.prototype.ja=function(a,b,c,e){a=this.g(a);void 0===b||null===b?E(this).removeItem(a,e):(b=JSON.stringify({cachedValue:b}),E(this).setItem(a,b,e))};var H=function(){};r(H,G);H.prototype.G=function(){return l.C.Ba};
H.prototype.g=function(a){return[z.ca,a.origin,a.a,a.id].join(z.l)};H.prototype.M=function(a){var b={};a&&(a=a.split(z.l),4==a.length&&(b.origin=a[1],b.a=a[2],b.id=a[3]));return b};var Da=function(){};r(Da,F);Da.prototype.g=function(a){return[z.ya,a.origin,a.a].join(z.l)};Da.prototype.M=function(a){a=a.split(z.l);var b={};3==a.length&&(b.origin=a[1],b.a=a[2]);return b};var I=function(){};r(I,F);I.prototype.g=function(a){return[z.Ra,a.origin,a.a].join(z.l)};
I.prototype.m=function(a,b){var c,e=F.prototype.m.call(this,a,b);e&&e.expires_at&&(6E4>e.expires_at-(new Date).getTime()?window.sessionStorage.removeItem(this.g(a)):ha(e.scope,a.scope)&&ha(a.scope,e.scope)?(c=e,c.expires_in=Math.floor((c.expires_at-(new Date).getTime())/1E3)):window.sessionStorage.removeItem(this.g(a)));return c};I.prototype.j=function(a,b,c){var e;b&&b.expires_at&&18E4<b.expires_at-(new Date).getTime()&&(e=b);F.prototype.j.call(this,a,e,c)};var J=function(){};r(J,G);
J.prototype.G=function(){return l.C.Ba};J.prototype.g=function(a){return[z.ha,a.domain,a.U?"1":"0",l.Ha(a.H),a.id||z.ea].join(z.l)};J.prototype.M=function(a){a=a.split(z.l);var b={};5==a.length&&(b.domain=a[1],b.U="1"==a[2],b.H=a[3],b.id=a[4]);"DEFAULT"==b.H&&delete b.H;b.id==z.ea&&delete b.id;return b};var K=function(a){this.nb=a||z.Da};r(K,F);K.prototype.g=function(a){return[this.nb,a.origin,a.a,a.id||z.za].join(z.l)};
K.prototype.m=function(a,b){var c=F.prototype.m.call(this,a,b);if(c&&c.R&&c.R.expires_at){if(a.kb==c.R.login_hint&&!(6E4>c.R.expires_at-(new Date).getTime())&&ha(c.R.scope,a.scope)&&ha(c.responseType,a.responseType))return c=c.R,c.expires_in=Math.floor((c.expires_at-(new Date).getTime())/1E3),c;window.sessionStorage.removeItem(this.g(a))}};
K.prototype.j=function(a,b,c){var e;b&&b.expires_at&&18E4<b.expires_at-(new Date).getTime()&&(e={R:b,responseType:a.responseType});F.prototype.j.call(this,a,e,c)};var Ea=function(a,b){this.b=a;this.ta=b;this.X={};this.W={}},Fa=function(a,b){if(!b)throw"message object cannot be null.";b.rpcToken=a.ta;var c=JSON.stringify(b);n("IDP IFrame sends message: "+c);window.parent.postMessage(c,a.b)},L=function(a,b,c){b&&Fa(a,{id:b,result:c})};
Ea.prototype.pb=function(a){if(a.source==window.parent&&a.origin==this.b){n("IDP Session State IFrame receive message:"+a.data);try{var b=window.JSON.parse(a.data)}catch(c){return}(b.rpcToken||this.ta)&&b.rpcToken!=this.ta?n("RPC token mismatch."):b&&b.method&&this.X[b.method]?(a=this.X[b.method],a.rpcIdRequired&&!b.id?n("Bad request."):a.validator&&!a.validator(b)?(n("Bad request."),Fa(this,{id:b.id,error:"Bad request."})):a.handler(b)):n("Bad request.")}};
var M=function(a,b){if(b&&b.type&&a.W[b.type]){var c=a.W[b.type].filter;c&&!c(b)||Fa(a,{method:"fireIdpEvent",params:b})}else n("Invalid event type.")},Ga=function(a,b){a.X={};a.W={};if(b){if(b.rpcs)for(var c=0;c<b.rpcs.length;c++){var e=b.rpcs[c];if(!e.method||!e.handler)throw"Error in RPC policy: method or handler is empty.";if(a.X[e.method])throw"Error in RPC policy: duplicate entry for RPC '"+e.method+"'.";a.X[e.method]={handler:e.handler,rpcIdRequired:e.rpcIdRequired,validator:e.validator}}if(b.events)for(c=
0;c<b.events.length;c++){e=b.events[c];if(!e.type)throw"Error in Event policy: type is empty.";if(a.W[e.type])throw"Error in Event policy: duplicate entry for type '"+e.type+"'.";a.W[e.type]={filter:e.filter}}}},Ha=function(a,b,c,e){M(a,{type:"sessionStateChanged",clientId:b,user:c,sessionState:e})},Ia=function(a){var b=new J,c=z.ha+z.l;return function(e){if(e.key&&0===e.key.indexOf(c)){var d=b.M(e.key);if(l.w(a.b,d.domain,d.U,d.H)){var g;if(e.newValue)try{var f=JSON.parse(e.newValue);f&&(g=f.cachedValue)}catch(k){return}M(a,
{type:"sessionSelectorChanged",newValue:g,crossSubDomains:d.U,domain:d.domain,policy:d.H,id:d.id})}}}},Ja=function(a){var b=new H,c=[z.ca,a.b].join(z.l)+z.l;return function(e){if(e.key&&0===e.key.indexOf(c)&&e.newValue){var d;try{d=window.JSON.parse(e.newValue)}catch(g){return}d&&d.cachedValue&&(e=b.M(e.key),M(a,{type:"authResult",clientId:e.a,id:e.id,authResult:d.cachedValue}))}}},Ka=function(a,b){this.b=a;this.v=b;this.Fa=new Da;this.Ma=new J;this.wa=new K;this.O=new I},La=function(a,b,c,e){a.Fa.j({origin:a.b,
a:b},{user:c.B,session:c.B?c.I:void 0},e)},Ma=function(a,b){return a.Fa.m({origin:a.b,a:b},B(a.v))},Na=function(a,b,c,e,d,g){return a.wa.m({kb:b,origin:a.b,a:c,responseType:e,scope:d,id:g},B(a.v))},Oa=function(a,b,c,e,d,g){if(!a.w(b,c,d))throw"Permission denied for '"+a.b+"' to read session selector for domain '"+b+"'.";a.Ma.ia({domain:b,U:c,H:d,id:e},void 0,function(a){g(a)})},Pa=function(a,b,c,e,d,g,f){if(!a.w(b,c,g))throw"Permission denied for '"+a.b+"' to write session selector for domain '"+
b+"'.";a.Ma.ja({domain:b,U:c,H:g,id:d},e,void 0,f)};Ka.prototype.w=function(a,b,c){return l.w(this.b,a,b,c)};
var Qa=function(a,b,c){return a.O.m({origin:a.b,a:b,scope:c},B(a.v))},Ra=function(a,b,c){this.L=a;this.c=b;this.h=c},Sa=function(a,b,c){a.B?c&&void 0!==c[a.B]?(c=c[a.B],oa(a.I,c)||(a.I=c,La(a.h,a.L,a,b),Ha(a.c,a.L,a.B,a.I))):a.I&&(a.I=void 0,La(a.h,a.L,a,b),Ha(a.c,a.L,a.B,void 0)):b&&Ha(a.c,a.L,a.B,void 0)},Ua=function(a,b,c,e){this.v=a;this.c=b;this.f=c;this.h=e;this.V=void 0;this.u={};this.ua=[];var d=this;this.v.addListener(function(a){Ta(d,a)})},Va=function(a){var b=[],c;for(c in a.u){var e=a.u[c].B;
e&&b.push(e)}return b},Ta=function(a,b){if(b.newHash)va(a.f,Va(a),function(c){for(var e in a.u)Sa(a.u[e],b.newHash,c&&c.activeHints)});else for(var c in a.u)Sa(a.u[c],b.newHash,void 0)},Wa=function(a,b,c,e){var d=a.u[b];d||(d=new Ra(b,a.c,a.h),a.u[b]=d);a=d;b=c.login_hint;c=c.session_state;a.B!=b&&(a.B=b,a.I=b?c:void 0,La(a.h,a.L,a,e))},Xa=function(a,b,c){var e=a.u[b];if(e)c(!0);else{var d=Ma(a.h,b);d?(e=new Ra(b,a.c,a.h),a.u[b]=e,e.B=d.user,e.I=d.session,c(!0)):ua(a.f,b,function(e){e&&e.valid?(e=
new Ra(b,a.c,a.h),a.u[b]=e,La(a.h,b,e,B(a.v)),c(!0)):c(!1)})}},Ya=function(a,b){ia()||ja()||ka()?a.ua.push(b):ga("storage",b)},O=function(a,b,c){this.b=a;this.c=new Ea(a,b);this.v=new pa(z.ga,z.Qa);this.f=new sa(a,c);this.h=new Ka(a,this.v);this.D=new Ua(this.v,this.c,this.f,this.h)};h=O.prototype;
h.start=function(){Ga(this.c,this.ka());var a=this;ga("message",function(){a.c.pb.apply(a.c,arguments)});Ya(this.D,Ia(this.c));Ya(this.D,Ja(this.c));ra(this.v);var b=function(){M(a.c,{type:"idpReady"});n("Initialize IDP IFrame successfully.")};ia()||ja()?(l.Y=new x,l.Y.pa(b)):(l.Y=new w,l.Y.pa(void 0),b())};h.lb=function(a){var b=this;Xa(this.D,(a.params||{}).clientId,function(c){L(b.c,a.id,c)})};
h.Ya=function(a){var b=a.params||{},c=this,e=b.clientId,d=b.loginHint,g=b.request,f=b.sessionSelector;g.client_id=e;g.login_hint=d;g.ss_domain=f.domain;var k=B(this.v);if(k){if(!b.forceRefresh&&(d=Na(this.h,d,e,g.response_type,g.scope,b.id))&&18E4<d.expires_at-(new Date).getTime()){Wa(this.D,e,d,k);L(c.c,a.id,d);return}wa(this.f,g,function(d){if(d&&!d.error&&d.login_hint){d.first_issued_at=(new Date).getTime();d.expires_at=d.first_issued_at+1E3*d.expires_in;d.session_state||(d.session_state={});d.scope||
(d.scope=g.scope);var f=c.h;f.wa.j({origin:f.b,a:e,responseType:g.response_type,id:b.id},d,k);Wa(c.D,e,d,k)}d=d||{};L(c.c,a.id,d)})}else L(c.c,a.id,{error:"user_logged_out"})};h.rb=function(a){var b=a.params||{},c=b.clientId,e=this;ya(this.f,b.token,function(b){var d=e.h;window.sessionStorage.removeItem(d.wa.g({origin:d.b,a:c}));L(e.c,a.id,b)})};
h.zb=function(a){if(ia()||ja()||ka()){var b=a.params||{},c=(new H).g({a:b.clientId,id:b.id,origin:b.origin}),b=this.D;if(ia()||ja()||ka()){b.V&&b.V.stop();b.V=new y(c);for(c=0;c<b.ua.length;c++)b.V.addListener(b.ua[c]);b.V.start()}}L(this.c,a.id,!0)};h.Xa=function(a){var b=this,c=a.params||{};Oa(this.h,c.domain,c.crossSubDomains,c.id,c.policy,function(c){L(b.c,a.id,c)})};
h.xb=function(a){var b=a.params||{},c=b.hint,e=!!b.disabled,d=b.domain,g=b.crossSubDomains,f=b.id,k=b.policy,q=this,t;if(c||e)t={hint:c,disabled:e};Pa(this.h,d,g,t,f,k,function(){M(q.c,{type:"sessionSelectorChanged",newValue:t,domain:d,crossSubDomains:g,id:f,policy:k});L(q.c,a.id,!0)})};
h.ib=function(a){var b=a.params||{},c=this,e=function(b){L(c.c,a.id,b)},d=b.clientId,g=b.request,f=b.sessionSelector;g.client_id=d;g.response_type="id_token";g.ss_domain=f.domain;var k=B(this.v);if(k){if(!b.forceRefresh&&(b=Qa(this.h,d,g.scope))){e(b);return}xa(this.f,g,function(a){if(a&&!a.error){a.first_issued_at=(new Date).getTime();a.expires_at=a.first_issued_at+1E3*a.expires_in;a.scope=g.scope;var b=c.h;b.O.j({origin:b.b,a:d},a,k)}a=a||{error:"No response returned from Server."};e(a)})}else e({scope:g.scope,
sessions:[]})};h.mb=function(a){a=a&&a.params||{};return a.clientId&&!A(a.clientId)};h.gb=function(a){var b=a&&a.params||{};a=b.loginHint;var c=!A(b.id),e=b.clientId&&!A(b.clientId),d=!!b.request,g=d&&b.request.scope;(b=(d=d&&b.request.response_type)&&0<=b.request.response_type.indexOf("code"))&&n("Bad request: 'code' response_type is not supported.");return a&&c&&e&&g&&d&&!b};
h.fb=function(a){a=a&&a.params||{};var b=a.domain&&!A(a.domain),c=!A(a.policy);return!A(a.id)&&b&&c&&this.h.w(a.domain,!!a.crossSubDomains,a.policy)};h.yb=function(a){a=a&&a.params||{};var b=a.domain&&!A(a.domain),c=!A(a.policy);return!A(a.id)&&b&&c&&this.h.w(a.domain,!!a.crossSubDomains,a.policy)&&z.Ua(a)};h.jb=function(a){a=a&&a.params||{};var b=a.clientId&&!A(a.clientId),c=!!a.request&&a.request.scope;return!A(a.id)&&b&&c};
h.ub=function(a){a=a&&a.params||{};var b=!!a.token,c=a.clientId&&!A(a.clientId);return!A(a.id)&&b&&c};h.Ab=function(a){a=a&&a.params||{};var b=a.origin&&!A(a.origin),c=a.id&&!A(a.id);return a.clientId&&!A(a.clientId)&&b&&c};h.wb=function(a){var b;if(b=a.clientId)a=a.clientId,b=!(!a||!this.D.u[a]);return b};h.Va=function(a){var b;if(b=a.clientId)b=a.clientId,b=!(!b||!this.D.u[b]);return b&&a.id&&a.authResult};h.vb=function(a){return a.domain&&this.h.w(a.domain,a.crossSubDomains,a.policy)};
var P=function(a,b){return function(){return b.apply(a,arguments)}};O.prototype.ka=function(){var a={rpcs:[],events:[]};Za(this,a);return a};
var Za=function(a,b){b.rpcs.push({method:"monitorClient",handler:P(a,a.lb),rpcIdRequired:!1,validator:P(a,a.mb)});b.rpcs.push({method:"getTokenResponse",handler:P(a,a.Ya),rpcIdRequired:!0,validator:P(a,a.gb)});b.rpcs.push({method:"getSessionSelector",handler:P(a,a.Xa),rpcIdRequired:!0,validator:P(a,a.fb)});b.rpcs.push({method:"setSessionSelector",handler:P(a,a.xb),rpcIdRequired:!1,validator:P(a,a.yb)});b.rpcs.push({method:"listIdpSessions",handler:P(a,a.ib),rpcIdRequired:!0,validator:P(a,a.jb)});
b.rpcs.push({method:"revoke",handler:P(a,a.rb),validator:P(a,a.ub)});b.rpcs.push({method:"startPolling",handler:P(a,a.zb),validator:P(a,a.Ab)});b.events.push({type:"idpReady"});b.events.push({type:"sessionStateChanged",filter:P(a,a.wb)});b.events.push({type:"sessionSelectorChanged",filter:P(a,a.vb)});b.events.push({type:"authResult",filter:P(a,a.Va)})};var $a=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,$a);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};ca($a,Error);var ab=function(a,b){for(var c=a.split("%s"),e="",d=Array.prototype.slice.call(arguments,1);d.length&&1<c.length;)e+=c.shift()+d.shift();return e+c.join("%s")};var bb=function(a,b){b.unshift(a);$a.call(this,ab.apply(null,b));b.shift()};ca(bb,$a);var cb=function(a,b,c){if(!a){var e="Assertion failed";if(b)var e=e+(": "+b),d=Array.prototype.slice.call(arguments,2);throw new bb(""+e,d||[]);}};var db=function(a){for(var b=[],c=0,e=0;e<a.length;e++){for(var d=a.charCodeAt(e);255<d;)b[c++]=d&255,d>>=8;b[c++]=d}return b};var eb=null;var Q=function(){this.s=-1};Q.prototype.reset=aa;Q.prototype.update=aa;Q.prototype.digest=aa;var R=function(a,b,c){this.s=-1;this.A=a;this.s=c||a.s||16;this.Ja=Array(this.s);this.sa=Array(this.s);a=b;a.length>this.s&&(this.A.update(a),a=this.A.digest(),this.A.reset());for(c=0;c<this.s;c++)b=c<a.length?a[c]:0,this.Ja[c]=b^92,this.sa[c]=b^54;this.A.update(this.sa)};ca(R,Q);R.prototype.reset=function(){this.A.reset();this.A.update(this.sa)};R.prototype.update=function(a,b){this.A.update(a,b)};
R.prototype.digest=function(){var a=this.A.digest();this.A.reset();this.A.update(this.Ja);this.A.update(a);return this.A.digest()};var S=function(){this.s=64;this.i=Array(4);this.Wa=Array(this.s);this.ba=this.T=0;this.reset()};ca(S,Q);S.prototype.reset=function(){this.i[0]=1732584193;this.i[1]=4023233417;this.i[2]=2562383102;this.i[3]=271733878;this.ba=this.T=0};
var fb=function(a,b,c){c||(c=0);var e=Array(16);if("string"==typeof b)for(var d=0;16>d;++d)e[d]=b.charCodeAt(c++)|b.charCodeAt(c++)<<8|b.charCodeAt(c++)<<16|b.charCodeAt(c++)<<24;else for(d=0;16>d;++d)e[d]=b[c++]|b[c++]<<8|b[c++]<<16|b[c++]<<24;b=a.i[0];c=a.i[1];var d=a.i[2],g=a.i[3],f;f=b+(g^c&(d^g))+e[0]+3614090360&4294967295;b=c+(f<<7&4294967295|f>>>25);f=g+(d^b&(c^d))+e[1]+3905402710&4294967295;g=b+(f<<12&4294967295|f>>>20);f=d+(c^g&(b^c))+e[2]+606105819&4294967295;d=g+(f<<17&4294967295|f>>>15);
f=c+(b^d&(g^b))+e[3]+3250441966&4294967295;c=d+(f<<22&4294967295|f>>>10);f=b+(g^c&(d^g))+e[4]+4118548399&4294967295;b=c+(f<<7&4294967295|f>>>25);f=g+(d^b&(c^d))+e[5]+1200080426&4294967295;g=b+(f<<12&4294967295|f>>>20);f=d+(c^g&(b^c))+e[6]+2821735955&4294967295;d=g+(f<<17&4294967295|f>>>15);f=c+(b^d&(g^b))+e[7]+4249261313&4294967295;c=d+(f<<22&4294967295|f>>>10);f=b+(g^c&(d^g))+e[8]+1770035416&4294967295;b=c+(f<<7&4294967295|f>>>25);f=g+(d^b&(c^d))+e[9]+2336552879&4294967295;g=b+(f<<12&4294967295|
f>>>20);f=d+(c^g&(b^c))+e[10]+4294925233&4294967295;d=g+(f<<17&4294967295|f>>>15);f=c+(b^d&(g^b))+e[11]+2304563134&4294967295;c=d+(f<<22&4294967295|f>>>10);f=b+(g^c&(d^g))+e[12]+1804603682&4294967295;b=c+(f<<7&4294967295|f>>>25);f=g+(d^b&(c^d))+e[13]+4254626195&4294967295;g=b+(f<<12&4294967295|f>>>20);f=d+(c^g&(b^c))+e[14]+2792965006&4294967295;d=g+(f<<17&4294967295|f>>>15);f=c+(b^d&(g^b))+e[15]+1236535329&4294967295;c=d+(f<<22&4294967295|f>>>10);f=b+(d^g&(c^d))+e[1]+4129170786&4294967295;b=c+(f<<
5&4294967295|f>>>27);f=g+(c^d&(b^c))+e[6]+3225465664&4294967295;g=b+(f<<9&4294967295|f>>>23);f=d+(b^c&(g^b))+e[11]+643717713&4294967295;d=g+(f<<14&4294967295|f>>>18);f=c+(g^b&(d^g))+e[0]+3921069994&4294967295;c=d+(f<<20&4294967295|f>>>12);f=b+(d^g&(c^d))+e[5]+3593408605&4294967295;b=c+(f<<5&4294967295|f>>>27);f=g+(c^d&(b^c))+e[10]+38016083&4294967295;g=b+(f<<9&4294967295|f>>>23);f=d+(b^c&(g^b))+e[15]+3634488961&4294967295;d=g+(f<<14&4294967295|f>>>18);f=c+(g^b&(d^g))+e[4]+3889429448&4294967295;c=
d+(f<<20&4294967295|f>>>12);f=b+(d^g&(c^d))+e[9]+568446438&4294967295;b=c+(f<<5&4294967295|f>>>27);f=g+(c^d&(b^c))+e[14]+3275163606&4294967295;g=b+(f<<9&4294967295|f>>>23);f=d+(b^c&(g^b))+e[3]+4107603335&4294967295;d=g+(f<<14&4294967295|f>>>18);f=c+(g^b&(d^g))+e[8]+1163531501&4294967295;c=d+(f<<20&4294967295|f>>>12);f=b+(d^g&(c^d))+e[13]+2850285829&4294967295;b=c+(f<<5&4294967295|f>>>27);f=g+(c^d&(b^c))+e[2]+4243563512&4294967295;g=b+(f<<9&4294967295|f>>>23);f=d+(b^c&(g^b))+e[7]+1735328473&4294967295;
d=g+(f<<14&4294967295|f>>>18);f=c+(g^b&(d^g))+e[12]+2368359562&4294967295;c=d+(f<<20&4294967295|f>>>12);f=b+(c^d^g)+e[5]+4294588738&4294967295;b=c+(f<<4&4294967295|f>>>28);f=g+(b^c^d)+e[8]+2272392833&4294967295;g=b+(f<<11&4294967295|f>>>21);f=d+(g^b^c)+e[11]+1839030562&4294967295;d=g+(f<<16&4294967295|f>>>16);f=c+(d^g^b)+e[14]+4259657740&4294967295;c=d+(f<<23&4294967295|f>>>9);f=b+(c^d^g)+e[1]+2763975236&4294967295;b=c+(f<<4&4294967295|f>>>28);f=g+(b^c^d)+e[4]+1272893353&4294967295;g=b+(f<<11&4294967295|
f>>>21);f=d+(g^b^c)+e[7]+4139469664&4294967295;d=g+(f<<16&4294967295|f>>>16);f=c+(d^g^b)+e[10]+3200236656&4294967295;c=d+(f<<23&4294967295|f>>>9);f=b+(c^d^g)+e[13]+681279174&4294967295;b=c+(f<<4&4294967295|f>>>28);f=g+(b^c^d)+e[0]+3936430074&4294967295;g=b+(f<<11&4294967295|f>>>21);f=d+(g^b^c)+e[3]+3572445317&4294967295;d=g+(f<<16&4294967295|f>>>16);f=c+(d^g^b)+e[6]+76029189&4294967295;c=d+(f<<23&4294967295|f>>>9);f=b+(c^d^g)+e[9]+3654602809&4294967295;b=c+(f<<4&4294967295|f>>>28);f=g+(b^c^d)+e[12]+
3873151461&4294967295;g=b+(f<<11&4294967295|f>>>21);f=d+(g^b^c)+e[15]+530742520&4294967295;d=g+(f<<16&4294967295|f>>>16);f=c+(d^g^b)+e[2]+3299628645&4294967295;c=d+(f<<23&4294967295|f>>>9);f=b+(d^(c|~g))+e[0]+4096336452&4294967295;b=c+(f<<6&4294967295|f>>>26);f=g+(c^(b|~d))+e[7]+1126891415&4294967295;g=b+(f<<10&4294967295|f>>>22);f=d+(b^(g|~c))+e[14]+2878612391&4294967295;d=g+(f<<15&4294967295|f>>>17);f=c+(g^(d|~b))+e[5]+4237533241&4294967295;c=d+(f<<21&4294967295|f>>>11);f=b+(d^(c|~g))+e[12]+1700485571&
4294967295;b=c+(f<<6&4294967295|f>>>26);f=g+(c^(b|~d))+e[3]+2399980690&4294967295;g=b+(f<<10&4294967295|f>>>22);f=d+(b^(g|~c))+e[10]+4293915773&4294967295;d=g+(f<<15&4294967295|f>>>17);f=c+(g^(d|~b))+e[1]+2240044497&4294967295;c=d+(f<<21&4294967295|f>>>11);f=b+(d^(c|~g))+e[8]+1873313359&4294967295;b=c+(f<<6&4294967295|f>>>26);f=g+(c^(b|~d))+e[15]+4264355552&4294967295;g=b+(f<<10&4294967295|f>>>22);f=d+(b^(g|~c))+e[6]+2734768916&4294967295;d=g+(f<<15&4294967295|f>>>17);f=c+(g^(d|~b))+e[13]+1309151649&
4294967295;c=d+(f<<21&4294967295|f>>>11);f=b+(d^(c|~g))+e[4]+4149444226&4294967295;b=c+(f<<6&4294967295|f>>>26);f=g+(c^(b|~d))+e[11]+3174756917&4294967295;g=b+(f<<10&4294967295|f>>>22);f=d+(b^(g|~c))+e[2]+718787259&4294967295;d=g+(f<<15&4294967295|f>>>17);f=c+(g^(d|~b))+e[9]+3951481745&4294967295;a.i[0]=a.i[0]+b&4294967295;a.i[1]=a.i[1]+(d+(f<<21&4294967295|f>>>11))&4294967295;a.i[2]=a.i[2]+d&4294967295;a.i[3]=a.i[3]+g&4294967295};
S.prototype.update=function(a,b){void 0===b&&(b=a.length);for(var c=b-this.s,e=this.Wa,d=this.T,g=0;g<b;){if(0==d)for(;g<=c;)fb(this,a,g),g+=this.s;if("string"==typeof a)for(;g<b;){if(e[d++]=a.charCodeAt(g++),d==this.s){fb(this,e);d=0;break}}else for(;g<b;)if(e[d++]=a[g++],d==this.s){fb(this,e);d=0;break}}this.T=d;this.ba+=b};
S.prototype.digest=function(){var a=Array((56>this.T?this.s:2*this.s)-this.T);a[0]=128;for(var b=1;b<a.length-8;++b)a[b]=0;for(var c=8*this.ba,b=a.length-8;b<a.length;++b)a[b]=c&255,c/=256;this.update(a);a=Array(16);for(b=c=0;4>b;++b)for(var e=0;32>e;e+=8)a[c++]=this.i[b]>>>e&255;return a};var hb=function(a,b,c){b.origin=a.b;b.privileged=!0;b.redirect_uri=void 0;b.response_type=void 0;C(z.fa,b,gb(a),c,!1)},ib=function(a,b,c,e){C((window.NOW_SERVER_BASE_URL||"https://clients1.google.com")+"/nowapi/webauth",{origin:a.b,client_id:b,user_ids:c.join(";")},gb(a),e,!0)},jb=function(a,b,c){C("/o/oauth2/auth",{origin:a.b,client_id:b.client_id,login_hint:b.login_hint,response_type:"code",access_type:"offline",scope:"https://www.googleapis.com/auth/googlenow.publish",redirect_uri:"xhr",timestamp:b.timestamp,
signature:b.signature,signed_by:"google_now"},gb(a),c,!1)},T=function(a,b,c){C((window.NOW_SERVER_BASE_URL||"https://clients1.google.com")+"/nowapi/webAuthApiAnalytics",{origin:a.b,client_id:b,status:c},gb(a),function(){},!0)},gb=function(a){var b={},c=m.N(z.eb());if(c){a=a.b;if(!a||!c)throw Error("RP origin and session cookie value cannot be empty.");c=new R(new S,db(c));a=db(a);c.reset();c.update(a);c=c.digest();a=ba(c);cb("array"==a||"object"==a&&"number"==typeof c.length,"encodeByteArray takes an array as a parameter");
if(!eb)for(eb={},a=0;65>a;a++)eb[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a);a=eb;for(var e=[],d=0;d<c.length;d+=3){var g=c[d],f=d+1<c.length,k=f?c[d+1]:0,q=d+2<c.length,t=q?c[d+2]:0,N=g>>2,g=(g&3)<<4|k>>4,k=(k&15)<<2|t>>6,t=t&63;q||(t=64,f||(k=64));e.push(a[N],a[g],a[k],a[t])}b["X-Csrf-Token"]=e.join("")}return b};var U=function(){};r(U,G);U.prototype.g=function(a){return["now_as",a.S,a.a||"ALL_CLIENTS"].join(z.l)};U.prototype.M=function(a){var b={};if(a){a=a.split(z.l);if("now_as"!==a[0]||3!=a.length)throw Error("Invalid assertion cache key.");b.S=a[1];b.a="ALL_CLIENTS"==a[2]?void 0:a[2]}return b};U.prototype.m=function(a,b){var c,e=G.prototype.m.call(this,a,b);e&&e.e&&(e.e<(new Date).getTime()?E(this).removeItem(this.g(a)):c=e.o);return c};
U.prototype.j=function(a,b,c){if(void 0!==b){var e=!!b;if(e&&!a.a)throw Error("Cannot cache all clients enabled for a user.");b={};b.o=e;b.e=(new Date).getTime()+864E5}G.prototype.j.call(this,a,b,c)};var V=function(){};r(V,F);V.prototype.g=function(a){return["now_gs",a.origin,a.a].join(z.l)};V.prototype.m=function(a,b){var c,e=F.prototype.m.call(this,a,b);e&&e.expires_at&&(e.expires_at<=(new Date).getTime()?E(this).removeItem(this.g(a)):(e.expires_at=void 0,c=e));return c};V.prototype.j=function(a,b,c){b&&(b.expires_at=(new Date).getTime()+864E5);F.prototype.j.call(this,a,b,c)};O.prototype.Za=function(a){var b=this;if(!kb(this,"getCode",a.id)){var c=lb(this,a);3<c.ma.length?(W(c,"THROTTLED","At most 3 email addresses can be used."),T(this.f,c.a,1)):c.Z?mb(this,c,!1,function(a){var d;try{d=nb(b,c,a)}catch(g){if("AUTH_EXISTS"==g.message){W(c,"AUTHORIZATION_EXISTS","Authorization already granted for the user.");T(b.f,c.a,3);return}throw g;}d.length?ob(b,c,d,function(a){pb(b,c,a.auth_request)}):(W(c,"DISABLED"),T(b.f,c.a,4))}):(W(c,"DISABLED"),T(this.f,c.a,2))}};
O.prototype.sb=function(a){var b=this;if(!kb(this,"revokeNow",a.id)){var c=lb(this,a);3<c.ma.length&&W(c,"THROTTLED","At most 3 email addresses can be used.");c.Z?mb(this,c,!0,function(a){a=nb(b,c,a,!0);if(a.length)for(var d=a.length,e=0;e<a.length;e++)qb(b,c.a,a[e],function(a){(a=a&&a.access_token)?ya(b.f,a,function(){d--;d||c.P({})}):(d--,d||c.P({}))});else c.P({})}):c.P({})}};
var kb=function(a,b,c){a.ra=a.ra||{};if(!a.ra[b])return a.ra[b]=!0,!1;L(a.c,c,{error:"THROTTLED",detail:"The "+b+"() method has already been invoked."});return!0},lb=function(a,b){var c=b.params||{},e={a:c.clientId,ma:c.emails,P:function(c){L(a.c,b.id,c)}};e.Z=B(a.v);e.Na={origin:a.b,a:c.clientId};return e},mb=function(a,b,c,e){a.O||(a.O=new V);if(!c&&(c=a.O.m(b.Na,b.Z))){e(c);return}hb(a.f,{client_id:b.a,scope:"https://www.googleapis.com/auth/googlenow.publish"},function(c){c&&c.sessions?(a.O.j(b.Na,
c,b.Z),e(c)):W(b,"OTHER","Failed to get Google session information.")})},nb=function(a,b,c,e){a.K||(a.K=new U);var d=[];if(c.sessions)for(var g=0;g<c.sessions.length;g++){var f=c.sessions[g],k;if(k=f.emails)a:{k=b.ma;for(var q=f.emails,t=0;t<k.length;t++)for(var N=0;N<q.length;N++)if(k[t]&&q[N]&&k[t].toLowerCase()===q[N].toLowerCase()){k=!0;break a}k=!1}if(k)if(e)f.login_hint&&d.push(f.login_hint);else{if(f.login_hint)throw Error("AUTH_EXISTS");if(f.obfuscatedGaiaId){k=a.K;q=f.obfuscatedGaiaId;t=
{S:q,a:b.a};if(k=!1===k.m({S:q})?!1:k.m(t))throw Error("AUTH_EXISTS");void 0===k&&d.push(f.obfuscatedGaiaId)}}}return d},ob=function(a,b,c,e){a.K||(a.K=new U);ib(a.f,b.a,c,function(d){if(d&&"DISABLED"!=d.status)if("THROTTLED"==d.status)W(b,"THROTTLED","Throttled by Google Now server."),T(a.f,b.a,7);else{var g;if(g="OK"==d.status)g=d.auth_request,g=!!g&&g.origin==a.b&&g.client_id==b.a&&0<g.timestamp&&!!g.signature&&"google_now"==g.signed_by&&0<=p(c,g.login_hint);if(g){g=a.K;var f=d.auth_request.login_hint,
k=b.a;g.j({S:f});g.j({S:f,a:k},!0);e(d)}else W(b,"OTHER","Unexpected response from Google Now server."),T(a.f,b.a,8)}else{f=g=!1;if(d.users&&d.users.length)for(k=0;k<d.users.length;k++){var q=d.users[k];q.user_id&&(a.K.j({S:q.user_id,a:q.disabled_for_all_clients?void 0:b.a},!1),q.disabled_for_all_clients?f=!0:g=!0)}W(b,"DISABLED");T(a.f,b.a,f&&!g?5:6)}})},pb=function(a,b,c){jb(a.f,c,function(c){c&&c.code?(b.P({code:c.code}),T(a.f,b.a,9)):c&&"immediate_failed"==c.error&&"policy_enforced"==c.error_subtype?
(W(b,"AUTHORIZATION_EXISTS","Failed to issue code due to existing authorization."),T(a.f,b.a,10)):(W(b,"OTHER",c.error||"Failed to get code."),T(a.f,b.a,11))})},qb=function(a,b,c,e){wa(a.f,{client_id:b,login_hint:c,response_type:"token",scope:"https://www.googleapis.com/auth/googlenow.publish"},e)},W=function(a,b,c){a.P({error:b,detail:c})};O.prototype.$a=function(a){a=a&&a.params||{};var b=a.emails,b=b&&b.length&&"[object Array]"===Object.prototype.toString.call(b);return a.clientId&&!A(a.clientId)&&b};O.prototype.tb=function(a){a=a&&a.params||{};var b=a.emails,b=b&&b.length&&"[object Array]"===Object.prototype.toString.call(b);return a.clientId&&!A(a.clientId)&&b};O.prototype.ka=function(){var a={rpcs:[],events:[]};rb(this,a);return a};
var rb=function(a,b){b.rpcs.push({method:"now:getCode",handler:P(a,a.Za),rpcIdRequired:!0,validator:P(a,a.$a)});b.rpcs.push({method:"now:revoke",handler:P(a,a.sb),rpcIdRequired:!0,validator:P(a,a.tb)})};O.prototype.ka=function(){var a={rpcs:[],events:[]};Za(this,a);rb(this,a);return a};z.ga="APISID";z.Ca="SAPISID";z.Ea="/o/oauth2/iframerpc?action=sessionState";z.xa="/o/oauth2/iframerpc?action=checkOrigin";z.Aa="/o/oauth2/iframerpc?action=issueToken";z.fa="/o/oauth2/iframerpc?action=listSessions";var sb=function(){var a=fa("origin");if(!a)throw"Failed to get parent origin from URL hash!";var b=fa("rpcToken");if(!b)throw"Failed to get rpcToken from URL hash!";var c=fa("debug");da="0"!=c&&!!c;(new O(a,b)).start()},X=["lso","startIdpIFrame"],Y=this;
X[0]in Y||!Y.execScript||Y.execScript("var "+X[0]);for(var Z;X.length&&(Z=X.shift());)X.length||void 0===sb?Y=Y[Z]?Y[Z]:Y[Z]={}:Y[Z]=sb;
